@import 'tailwindcss';

@import './colors.css';

@plugin '@tailwindcss/forms';
@plugin 'tailwindcss-animate';
@plugin './plugins/tailwind-motion-spring.ts';
@plugin './plugins/tailwind-elevation/index.ts';

@theme {
  /*****************************************************************************
  *                                  TYPOGRAPHY
  *****************************************************************************/

  --text-*: initial;
  /* Level -2: xs */
  --text-xs: clamp(0.64rem, calc(0.733rem + 0.283vw), 0.79rem);
  --text-xs--line-height: 1.85;
  --text-xs--letter-spacing: 0.03em;
  --text-xs--font-weight: 400;

  /* Level -1: sm */
  --text-sm: clamp(0.8rem, calc(0.844rem + 0.223vw), 0.889rem);
  --text-sm--line-height: 1.8;
  --text-sm--letter-spacing: 0.02em;
  --text-sm--font-weight: 400;

  /* Level 0: base */
  --text-base: 1rem;
  --text-base--line-height: 1.7;
  --text-base--letter-spacing: 0;
  --text-base--font-weight: 400;

  /* Level 1: lg */
  --text-lg: clamp(1.125rem, calc(1.063rem + 0.313vw), 1.25rem);
  --text-lg--line-height: 1.5;
  --text-lg--letter-spacing: -0.01em;
  --text-lg--font-weight: 500;

  /* Level 2: xl */
  --text-xl: clamp(1.266rem, calc(1.141rem + 0.625vw), 1.563rem);
  --text-xl--line-height: 1.4;
  --text-xl--letter-spacing: -0.015em;
  --text-xl--font-weight: 500;

  /* Level 3: 2xl */
  --text-2xl: clamp(1.424rem, calc(1.174rem + 1.25vw), 1.953rem);
  --text-2xl--line-height: 1.3;
  --text-2xl--letter-spacing: -0.02em;
  --text-2xl--font-weight: 600;

  /* Level 4: 3xl */
  --text-3xl: clamp(1.602rem, calc(1.143rem + 2.295vw), 2.441rem);
  --text-3xl--line-height: 1.25;
  --text-3xl--letter-spacing: -0.025em;
  --text-3xl--font-weight: 700;

  /* Level 5: 4xl */
  --text-4xl: clamp(1.802rem, calc(1.052rem + 3.75vw), 3.052rem);
  --text-4xl--line-height: 1.2;
  --text-4xl--letter-spacing: -0.03em;
  --text-4xl--font-weight: 700;

  --font-*: initial;

  --font-body: var(--body-font, 'Open Sans', sans-serif);
  --font-heading: var(--heading-font, 'Open Sans', sans-serif);
  --font-monospace: 'Fira Code', monospace;

  /*****************************************************************************
  *                               COLORS
  *****************************************************************************/
  --color-*: initial;

  /*
    Semantic colors
  */
  --color-background: var(--background);

  --color-text: var(--text);

  --color-primary: var(--primary);
  --color-primary-contrast: var(--primary-contrast);

  --color-neutral: var(--neutral);
  --color-neutral-contrast: var(--neutral-contrast);

  --color-accent: var(--accent);
  --color-accent-contrast: var(--accent-contrast);

  --color-secondary: var(--secondary);
  --color-secondary-contrast: var(--secondary-contrast);

  --color-surface: var(--surface);
  --color-surface-contrast: var(--surface-contrast);
  --color-surface-1: var(--surface-1);
  --color-surface-1-contrast: var(--surface-1-contrast);
  --color-surface-2: var(--surface-2);
  --color-surface-2-contrast: var(--surface-2-contrast);
  --color-surface-3: var(--surface-3);
  --color-surface-3-contrast: var(--surface-3-contrast);
  --color-surface-popover: var(--surface-popover);
  --color-surface-popover-contrast: var(--surface-popover-contrast);

  /* States */
  --color-destructive: var(--destructive);
  --color-destructive-contrast: var(--destructive-contrast);

  --color-warning: var(--warning);
  --color-warning-contrast: var(--warning-contrast);

  --color-success: var(--success);
  --color-success-contrast: var(--success-contrast);

  --color-info: var(--info);
  --color-info-contrast: var(--info-contrast);

  --color-selected: var(--selected);
  --color-selected-contrast: var(--selected-contrast);

  --ring: var(--ring);

  /* UI elements */
  --color-link: var(--link);

  --color-outline: var(--outline);

  --color-input: var(--input);
  --color-input-contrast: var(--input-contrast);

  --color-overlay: oklch(from var(--overlay) l c h / 0.45);

  /* Color sequences */
  --color-node-1: var(--node-1);
  --color-node-1-contrast: var(--node-1-contrast);
  --color-node-2: var(--node-2);
  --color-node-2-contrast: var(--node-2-contrast);
  --color-node-3: var(--node-3);
  --color-node-3-contrast: var(--node-3-contrast);
  --color-node-4: var(--node-4);
  --color-node-4-contrast: var(--node-4-contrast);
  --color-node-5: var(--node-5);
  --color-node-5-contrast: var(--node-5-contrast);
  --color-node-6: var(--node-6);
  --color-node-6-contrast: var(--node-6-contrast);
  --color-node-7: var(--node-7);
  --color-node-7-contrast: var(--node-7-contrast);
  --color-node-8: var(--node-8);
  --color-node-8-contrast: var(--node-8-contrast);

  --color-edge-1: var(--edge-1);
  --color-edge-2: var(--edge-2);
  --color-edge-3: var(--edge-3);
  --color-edge-4: var(--edge-4);
  --color-edge-5: var(--edge-5);
  --color-edge-6: var(--edge-6);
  --color-edge-7: var(--edge-7);
  --color-edge-8: var(--edge-8);
  --color-edge-9: var(--edge-9);
  --color-edge-10: var(--edge-10);

  --color-ord-1: var(--ord-1);
  --color-ord-2: var(--ord-2);
  --color-ord-3: var(--ord-3);
  --color-ord-4: var(--ord-4);
  --color-ord-5: var(--ord-5);
  --color-ord-6: var(--ord-6);
  --color-ord-7: var(--ord-7);
  --color-ord-8: var(--ord-8);
  --color-ord-9: var(--ord-9);
  --color-ord-10: var(--ord-10);

  --color-cat-1: var(--cat-1);
  --color-cat-2: var(--cat-2);
  --color-cat-3: var(--cat-3);
  --color-cat-4: var(--cat-4);
  --color-cat-5: var(--cat-5);
  --color-cat-6: var(--cat-6);
  --color-cat-7: var(--cat-7);
  --color-cat-8: var(--cat-8);
  --color-cat-9: var(--cat-9);
  --color-cat-10: var(--cat-10);

  /* Named colors - these reference colors.css triplets, so they keep oklch() */
  --color-neon-coral: oklch(var(--neon-coral));
  --color-neon-coral-dark: oklch(var(--neon-coral--dark));

  --color-sea-green: oklch(var(--sea-green));
  --color-sea-green-dark: oklch(var(--sea-green--dark));

  --color-slate-blue: oklch(var(--slate-blue));
  --color-slate-blue-dark: oklch(var(--slate-blue--dark));

  --color-navy-taupe: oklch(var(--navy-taupe));
  --color-navy-taupe-dark: oklch(var(--navy-taupe--dark));

  --color-cyber-grape: oklch(var(--cyber-grape));
  --color-cyber-grape-dark: oklch(var(--cyber-grape--dark));

  --color-mustard: oklch(var(--mustard));
  --color-mustard-dark: oklch(var(--mustard--dark));

  --color-rich-black: oklch(var(--rich-black));
  --color-rich-black-dark: oklch(var(--rich-black--dark));

  --color-charcoal: oklch(var(--charcoal));
  --color-charcoal-dark: oklch(var(--charcoal--dark));

  --color-platinum: oklch(var(--platinum));
  --color-platinum-dark: oklch(var(--platinum--dark));

  --color-sea-serpent: oklch(var(--sea-serpent));
  --color-sea-serpent-dark: oklch(var(--sea-serpent--dark));

  --color-purple-pizazz: oklch(var(--purple-pizazz));
  --color-purple-pizazz-dark: oklch(var(--purple-pizazz--dark));

  --color-paradise-pink: oklch(var(--paradise-pink));
  --color-paradise-pink-dark: oklch(var(--paradise-pink--dark));

  --color-cerulean-blue: oklch(var(--cerulean-blue));
  --color-cerulean-blue-dark: oklch(var(--cerulean-blue--dark));

  --color-kiwi: oklch(var(--kiwi));
  --color-kiwi-dark: oklch(var(--kiwi--dark));

  --color-neon-carrot: oklch(var(--neon-carrot));
  --color-neon-carrot-dark: oklch(var(--neon-carrot--dark));

  --color-barbie-pink: oklch(var(--barbie-pink));
  --color-barbie-pink-dark: oklch(var(--barbie-pink--dark));

  --color-tomato: oklch(var(--tomato));
  --color-tomato-dark: oklch(var(--tomato--dark));

  --color-transparent: transparent;
  --color-white: oklch(var(--white));
  --color-black: oklch(var(--black));

  /*
    Spacing
  */
  --spacing-*: initial;
  --spacing: var(--spacing-base);

  /*
    Breakpoints/Containers
  */
  --breakpoint-*: initial;

  --breakpoint-mobile: 20rem; /* 320px - minimum mobile */
  --breakpoint-tablet: 48rem; /* 768px - small tablets, iPad Mini */
  --breakpoint-tablet-portrait: 64rem; /* 1024px - iPad Pro 11" */
  --breakpoint-laptop: 80rem; /* 1280px - small laptops, iPad Pro 12.9" */
  --breakpoint-desktop: 120rem; /* 1920px - full HD desktop */
  --breakpoint-desktop-lg: 160rem; /* 2560px - 2K/4K displays */

  /*
    Border radius
    
    This is a PITA, because motion doesn't work with css variables for border
    radius, for some reason. So, approximate pixel values are provided next to
    each of these, based on the default radius of 1.75rem (28px).
  */
  --radius-*: initial;
  --radius-none: 0px; /* 0px */
  --radius-sm: calc(var(--radius) * 0.5); /* 14px */
  --radius: var(--radius); /* 28px */
  --radius-lg: calc(var(--radius) * 1.5); /* 42px */
  --radius-xl: calc(var(--radius) * 2); /* 56px */
  --radius-2xl: calc(var(--radius) * 3); /* 84px */
  --radius-3xl: calc(var(--radius) * 4); /* 112px */
  --radius-full: 9999px; /* 9999px */

  /*
    Animation
  */

  --animate-wiggle: wiggle 1s ease-in-out infinite;
  --animate-shake: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-indeterminate-progress-bar: indeterminate-progress-bar 1s infinite
    linear;
  --animate-background-gradient: background-gradient 5s infinite ease-in-out;
  --animate-linking: linking 1s ease-in-out infinite;
  --animate-pulse-glow: animate-pulse-glow 2s infinite;

  --transform-origin-left-right: 0% 50%;

  @keyframes animate-pulse-glow {
    0% {
      box-shadow: 0 0 0 0 oklch(from var(--color-primary) l c h / 0.8);
    }

    70% {
      box-shadow: 0 0 0 2rem oklch(from var(--color-primary) l c h / 0);
    }

    100% {
      box-shadow: 0 0 0 0 oklch(from var(--color-primary) l c h / 0);
    }
  }

  @keyframes wiggle {
    0%,
    100% {
      transform: rotate(-3deg);
    }
    50% {
      transform: rotate(3deg);
    }
  }
  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
  @keyframes indeterminate-progress-bar {
    0% {
      transform: translateX(0) scaleX(0);
    }
    40% {
      transform: translateX(0) scaleX(0.4);
    }
    100% {
      transform: translateX(100%) scaleX(0.5);
    }
  }
  @keyframes background-gradient {
    0%,
    50% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  @keyframes shake {
    10%,
    90% {
      transform: translate3d(-1px, 0, 0);
    }
    20%,
    80% {
      transform: translate3d(2px, 0, 0);
    }
    30%,
    50%,
    70% {
      transform: translate3d(-4px, 0, 0);
    }
    40%,
    60% {
      transform: translate3d(4px, 0, 0);
    }
  }

  @keyframes linking {
    0% {
      transform: scale(0.8);
    }

    50% {
      transform: scale(1);
    }

    100% {
      transform: scale(0.8);
    }
  }
}

/* 

The default tailwind way to do this uses a psuedo element selector, which
means that anything not editable is "read only", including things
like <select>. 

This custom variant lets you target only elements with the readonly attribute.

*/
@custom-variant is-read-only (&[readonly]);

/**
 * Utility classes for focus styles:
  * - focusable: applies focus styles on :focus-visible
  * - focusable-within: applies focus styles on :focus-within + :focus-visible
  * - focus-styles: the actual focus styles
*/
@utility focus-styles {
  @apply outline-4 outline-offset-3 outline-current transition-all duration-200 ease-in-out;
}

@utility focusable {
  @apply focus-visible:focus-styles;
}

@utility focusable-within {
  @apply focus-visible-within:focus-styles;
}

/* Replacement for interface centering mixin */
@utility interface {
  @apply relative mx-4 flex shrink grow basis-auto items-center justify-center;
}

/* Required for base-ui components that use portals: https://base-ui.com/react/overview/quick-start#portals */
@utility root {
  @apply isolate;
}

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    @apply border-outline;
  }

  body {
    @apply bg-background text-text publish-colors font-body;
    position: relative; /* https://base-ui.com/react/overview/quick-start#ios-26-safari */
  }

  /* These tags are semantic, so I think its okay to apply styles to them directly in the global styles. */
  strong {
    @apply font-extrabold;
  }

  em {
    @apply italic;
  }

  s {
    @apply line-through;
  }

  u {
    @apply underline;
  }

  hr {
    @apply my-6 rounded border-[1.2px] border-current/5;
  }

  /* Slightly increase default stroke width for better visibility */
  .lucide {
    stroke-width: 2.5px;
  }
}

/* Custom variant for :focus-within + :focus-visible */
@variant focus-visible-within (&:has(:focus-visible));
